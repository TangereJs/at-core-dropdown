<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta name="viewport" content="width=device-width">
  <meta charset="utf-8" />
  <title>at-core-dropdown demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../at-core-dropdown.html">
  <link rel="import" href="../../at-core-modal/at-core-modal.html">

  <style>
    body {
      font-family: "Helvetica Neue";
      color: #666;
      padding: 40px;
    }

    .m {
      margin: 16px;
    }

    .wide-demo {
      margin: 16px auto;
      max-width: 200px;
    }

    #nestedElement1 {
        text-align:center;
    }

    #nestedElement2{
        text-align:center;
    }
  </style>
</head>

<body>

<div id="baseElement1">
  <h3>Nested dropdowns</h3>
  <at-core-dropdown id="dropdown1" render-mode="1">
    <div id="nestedElement1">
      Nested element 1
      <at-core-dropdown id="dropdown2" render-mode="1">
        <div id="nestedElement2">
          Nested element 2
        </div>
      </at-core-dropdown>
      <button id="openDropdown2" type="button">Open nested element 2</button>
    </div>
  </at-core-dropdown>
  <button id="openDropdown1" type="button">Open nested element 1</button>
</div>

<div id="baseElement2">
  <h3>Overlay (dropdown) opens modal</h3>
  <at-core-dropdown id="dropdown3" render-mode="1">
    <div id="nestedElement31">
      Nested element 1
      <at-core-modal id="modal1">
        <div id="nestedElement32">
          Nested element 2
        </div>
      </at-core-modal>
      <button id="openModal1" type="button">Open nested element 2</button>
    </div>
  </at-core-dropdown>
  <button id="openDropdown3" type="button">Open nested element 1</button>
</div>

  <script>
      document.addEventListener('WebComponentsReady', function(event) {

      init('openDropdown1', 'dropdown1');
      init('openDropdown2', 'dropdown2');
      init('openDropdown3', 'dropdown3');

      function init(buttonId, dropdownId) {
        var carbonButton = document.getElementById(buttonId);
        var coreDropdown = document.getElementById(dropdownId);

        carbonButton.addEventListener('click', function(event) {
          coreDropdown.toggle(carbonButton, event);
        });
      }

      var modal1 = document.getElementById('modal1');
      var open1 = document.getElementById('openModal1');

      open1.addEventListener('click', function (event) {
        modal1.open();
      });

    });
  </script>

</body>

</html>
